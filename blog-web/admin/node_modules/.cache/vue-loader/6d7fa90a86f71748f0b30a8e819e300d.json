{"remainingRequest":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/autwind/Desktop/autwind/blog-web/admin/src/layout/components/NavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/autwind/Desktop/autwind/blog-web/admin/src/layout/components/NavBar.vue","mtime":1619178478164},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkKCkgewogICAgLy/mm7/mjaLpnaLljIXlsZHlr7zoiKoKICAgIGxldCBtYXRjaGVkID0gdGhpcy4kcm91dGUubWF0Y2hlZC5maWx0ZXIoaXRlbSA9PiBpdGVtLm5hbWUpOwogICAgY29uc3QgZmlyc3QgPSBtYXRjaGVkWzBdOwogICAgaWYgKGZpcnN0ICYmIGZpcnN0Lm5hbWUgIT09ICLpppbpobUiKSB7CiAgICAgIG1hdGNoZWQgPSBbeyBwYXRoOiAiLyIsIG5hbWU6ICLpppbpobUiIH1dLmNvbmNhdChtYXRjaGVkKTsKICAgIH0KICAgIHRoaXMuYnJlYWRjcnVtYkxpc3QgPSBtYXRjaGVkOwogICAgLy/kv53lrZjlvZPliY3pobXmoIfnrb4KICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2F2ZVRhYiIsIHRoaXMuJHJvdXRlKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTZWFyY2g6IGZhbHNlLAogICAgICBmdWxsc2NyZWVuOiBmYWxzZSwKICAgICAgYnJlYWRjcnVtYkxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ29Ubyh0YWIpIHsKICAgICAgLy/ot7PovazmoIfnrb4KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0YWIucGF0aCB9KTsKICAgIH0sCiAgICByZW1vdmVUYWIodGFiKSB7CiAgICAgIC8v5Yig6Zmk5qCH562+CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgdGFiKTsKICAgICAgLy/lpoLmnpzliKDpmaTnmoTmmK/lvZPliY3pobXliJnov5Tlm57kuIrkuIDmoIfnrb7pobUKICAgICAgaWYgKHRhYi5wYXRoID09IHRoaXMuJHJvdXRlLnBhdGgpIHsKICAgICAgICB2YXIgdGFiTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLnRhYkxpc3Q7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0YWJMaXN0W3RhYkxpc3QubGVuZ3RoIC0gMV0ucGF0aCB9KTsKICAgICAgfQogICAgfSwKICAgIHRyaWdnZXIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidHJpZ2dlciIpOwogICAgfSwKICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgewogICAgICBpZiAoY29tbWFuZCA9PSAic2V0dGluZyIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvc2V0dGluZyIgfSk7CiAgICAgIH0KICAgICAgaWYgKGNvbW1hbmQgPT0gImxvZ291dCIpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvZ291dCIpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVzZXRUYWIiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvbG9naW4iIH0pOwogICAgICB9CiAgICB9LAogICAgY2xvc2VBbGxUYWIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVzZXRUYWIiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiLyIgfSk7CiAgICB9LAogICAgZnVsbFNjcmVlbigpIHsKICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHsKICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHsKICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKSB7CiAgICAgICAgICBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7CiAgICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7CiAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKSB7CiAgICAgICAgICBlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKSB7CiAgICAgICAgICBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKSB7CiAgICAgICAgICBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKCk7CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsKICAgICAgICAgIGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmZ1bGxzY3JlZW4gPSAhdGhpcy5mdWxsc2NyZWVuOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v5qCH562+5piv5ZCm5aSE5LqO5b2T5YmN6aG1CiAgICBpc0FjdGl2ZSgpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRhYikgewogICAgICAgIGlmICh0YWIucGF0aCA9PSB0aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgICByZXR1cm4gInRhYnMtdmlldy1pdGVtLWFjdGl2ZSI7CiAgICAgICAgfQogICAgICAgIHJldHVybiAidGFicy12aWV3LWl0ZW0iOwogICAgICB9OwogICAgfSwKICAgIGlzRm9sZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbGxhcHNlID8gImVsLWljb24tcy11bmZvbGQiIDogImVsLWljb24tcy1mb2xkIjsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["NavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NavBar.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\n  <div>\n    <!-- 导航栏 -->\n    <div class=\"nav-bar\">\n      <!-- 折叠按钮 -->\n      <div class=\"hambuger-container\" @click=\"trigger\">\n        <i :class=\"isFold\" />\n      </div>\n      <!-- 面包屑导航 -->\n      <el-breadcrumb>\n        <el-breadcrumb-item v-for=\"item of breadcrumbList\" :key=\"item.path\">\n          <span v-if=\"item.redirect\">{{ item.name }}</span>\n          <router-link v-else :to=\"item.path\">{{ item.name }}</router-link>\n        </el-breadcrumb-item>\n      </el-breadcrumb>\n      <!-- 右侧菜单 -->\n      <div class=\"right-menu\">\n        <!-- 全屏按钮 -->\n        <div class=\"screen-full\" @click=\"fullScreen\">\n          <i class=\"iconfont el-icon-myicwindowzoom48px\" />\n        </div>\n        <!-- 用户选项 -->\n        <el-dropdown @command=\"handleCommand\">\n          <el-avatar :size=\"40\" :src=\"this.$store.state.avatar\" />\n          <i class=\"el-icon-caret-bottom\" />\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"setting\">\n              <i class=\"el-icon-s-custom\" />个人中心\n            </el-dropdown-item>\n            <el-dropdown-item command=\"logout\" divided>\n              <i class=\"iconfont el-icon-mytuichu\" />退出登录\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n    <!-- 历史标签栏 -->\n    <div class=\"tabs-view-container\">\n      <span\n        :class=\"isActive(item)\"\n        v-for=\"item of this.$store.state.tabList\"\n        :key=\"item.path\"\n        @click=\"goTo(item)\"\n      >\n        {{ item.name }}\n        <i\n          class=\"el-icon-close\"\n          v-if=\"item.path != '/'\"\n          @click.stop=\"removeTab(item)\"\n        />\n      </span>\n      <span class=\"tabs-view-item\" style=\"float:right\" @click=\"closeAllTab\">\n        全部关闭\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  created() {\n    //替换面包屑导航\n    let matched = this.$route.matched.filter(item => item.name);\n    const first = matched[0];\n    if (first && first.name !== \"首页\") {\n      matched = [{ path: \"/\", name: \"首页\" }].concat(matched);\n    }\n    this.breadcrumbList = matched;\n    //保存当前页标签\n    this.$store.commit(\"saveTab\", this.$route);\n  },\n  data: function() {\n    return {\n      isSearch: false,\n      fullscreen: false,\n      breadcrumbList: []\n    };\n  },\n  methods: {\n    goTo(tab) {\n      //跳转标签\n      this.$router.push({ path: tab.path });\n    },\n    removeTab(tab) {\n      //删除标签\n      this.$store.commit(\"removeTab\", tab);\n      //如果删除的是当前页则返回上一标签页\n      if (tab.path == this.$route.path) {\n        var tabList = this.$store.state.tabList;\n        this.$router.push({ path: tabList[tabList.length - 1].path });\n      }\n    },\n    trigger() {\n      this.$store.commit(\"trigger\");\n    },\n    handleCommand(command) {\n      if (command == \"setting\") {\n        this.$router.push({ path: \"/setting\" });\n      }\n      if (command == \"logout\") {\n        this.$store.commit(\"logout\");\n        this.$store.commit(\"resetTab\");\n        this.$router.push({ path: \"/login\" });\n      }\n    },\n    closeAllTab() {\n      this.$store.commit(\"resetTab\");\n      this.$router.push({ path: \"/\" });\n    },\n    fullScreen() {\n      let element = document.documentElement;\n      if (this.fullscreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      } else {\n        if (element.requestFullscreen) {\n          element.requestFullscreen();\n        } else if (element.webkitRequestFullScreen) {\n          element.webkitRequestFullScreen();\n        } else if (element.mozRequestFullScreen) {\n          element.mozRequestFullScreen();\n        } else if (element.msRequestFullscreen) {\n          element.msRequestFullscreen();\n        }\n      }\n      this.fullscreen = !this.fullscreen;\n    }\n  },\n  computed: {\n    //标签是否处于当前页\n    isActive() {\n      return function(tab) {\n        if (tab.path == this.$route.path) {\n          return \"tabs-view-item-active\";\n        }\n        return \"tabs-view-item\";\n      };\n    },\n    isFold() {\n      return this.$store.state.collapse ? \"el-icon-s-unfold\" : \"el-icon-s-fold\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.nav-bar {\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n  padding-right: 30px;\n  height: 50px;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n}\n.hambuger-container {\n  font-size: 1.25rem;\n  cursor: pointer;\n  margin-right: 24px;\n}\n.tabs-view-container {\n  padding-left: 10px;\n  padding-right: 10px;\n  height: 33px;\n  background: #fff;\n  border-bottom: 1px solid #d8dce5;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\n}\n.tabs-view-item {\n  display: inline-block;\n  cursor: pointer;\n  height: 25px;\n  line-height: 25px;\n  border: 1px solid #d8dce5;\n  color: #495060;\n  background: #fff;\n  padding: 0 8px;\n  font-size: 12px;\n  margin-top: 4px;\n  margin-left: 5px;\n}\n.tabs-view-item-active {\n  display: inline-block;\n  cursor: pointer;\n  height: 26px;\n  line-height: 26px;\n  padding: 0 8px;\n  font-size: 12px;\n  margin-top: 4px;\n  margin-left: 5px;\n  background-color: #42b983;\n  color: #fff;\n  border-color: #42b983;\n}\n.tabs-view-item-active:before {\n  content: \"\";\n  background: #fff;\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  position: relative;\n  margin-right: 2px;\n}\n.el-icon-close {\n  padding: 0.1rem;\n}\n.el-icon-close:hover {\n  border-radius: 50%;\n  background: #b4bccc;\n  transition-duration: 0.3s;\n}\n.right-menu {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n}\n.el-icon-caret-bottom {\n  margin-left: 0.5rem;\n  font-size: 0.75rem;\n}\n.screen-full {\n  cursor: pointer;\n  margin-right: 1rem;\n  font-size: 1.25rem;\n}\n</style>\n"]}]}