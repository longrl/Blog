{"remainingRequest":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/babel-loader/lib/index.js!/home/autwind/Desktop/autwind/blog-web/admin/node_modules/eslint-loader/index.js??ref--13-0!/home/autwind/Desktop/autwind/blog-web/admin/src/http.js","dependencies":[{"path":"/home/autwind/Desktop/autwind/blog-web/admin/src/http.js","mtime":1619163762252},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/autwind/Desktop/autwind/blog-web/admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4vcm91dGVyIjsKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICJodHRwOi8vbG9jYWxob3N0OjgwODAvdjEiLAogIHRpbWVvdXQ6IDEyMDAwMAp9KTsgLy8gcmVxdWVzdCDmi6bmiKrlmagKCmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyDorr7nva50b2tlbgogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJBdXRob3JpemF0aW9uIik7IC8vIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDsKCiAgY29uZmlnLmhlYWRlcnMudG9rZW4gPSB0b2tlbjsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOyAvLyByZXNwb25zZSDmi6bmiKrlmagKCmh0dHAuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gNDAxKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiQXV0aG9yaXphdGlvbiIpOwogICAgcm91dGVyLnJlcGxhY2UoewogICAgICBwYXRoOiAibG9naW4iCiAgICB9KTsKICB9CgogIHJldHVybiByZXNwb25zZTsKfSAvLyBlcnJvciA9PiB7Ci8vICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKLy8gICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gNDAxKSB7Ci8vICAgICAgICAgICAgIC8vIOa4hemZpHRva2Vu5L+h5oGv5bm26Lez6L2s5Yiw55m75b2V6aG16Z2iCi8vICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdBdXRob3JpemF0aW9uJyk7Ci8vICAgICAgICAgICAgIHJvdXRlci5yZXBsYWNlKHtwYXRoOiAnbG9naW4nfSkKLy8gICAgICAgICB9Ci8vICAgICB9Ci8vICAgICAvLyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UuZGF0YSkgICAvLyDov5Tlm57mjqXlj6Pov5Tlm57nmoTplJnor6/kv6Hmga8KLy8gfQopOwpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["/home/autwind/Desktop/autwind/blog-web/admin/src/http.js"],"names":["axios","router","http","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","err","Promise","reject","response","data","status","removeItem","replace","path"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAE,0BADe;AAExBC,EAAAA,OAAO,EAAE;AAFe,CAAb,CAAb,C,CAKA;;AACAH,IAAI,CAACI,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACE,UAAAC,MAAM,EAAI;AACR;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAd,CAFQ,CAGR;;AACAH,EAAAA,MAAM,CAACI,OAAP,CAAeH,KAAf,GAAuBA,KAAvB;AACA,SAAOD,MAAP;AACD,CAPH,EAQE,UAAAK,GAAG,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAVH,E,CAaA;;AACAZ,IAAI,CAACI,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CACE,UAAAS,QAAQ,EAAI;AACV,MAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,IAAwB,GAA5B,EAAiC;AAC/BR,IAAAA,YAAY,CAACS,UAAb,CAAwB,eAAxB;AACAnB,IAAAA,MAAM,CAACoB,OAAP,CAAe;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAf;AACD;;AACD,SAAOL,QAAP;AACD,CAPH,CAQE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBF;AAoBA,eAAef,IAAf","sourcesContent":["import axios from \"axios\";\nimport router from \"./router\";\n\nconst http = axios.create({\n  baseURL: \"http://localhost:8080/v1\",\n  timeout: 120000\n});\n\n// request 拦截器\nhttp.interceptors.request.use(\n  config => {\n    // 设置token\n    const token = localStorage.getItem(\"Authorization\");\n    // config.headers.Authorization = `Bearer ${token}`;\n    config.headers.token = token;\n    return config;\n  },\n  err => {\n    return Promise.reject(err);\n  }\n);\n\n// response 拦截器\nhttp.interceptors.response.use(\n  response => {\n    if (response.data.status == 401) {\n      localStorage.removeItem(\"Authorization\");\n      router.replace({ path: \"login\" });\n    }\n    return response;\n  }\n  // error => {\n  //     if (error.response) {\n  //         if (error.response.data.status == 401) {\n  //             // 清除token信息并跳转到登录页面\n  //             localStorage.removeItem('Authorization');\n  //             router.replace({path: 'login'})\n  //         }\n  //     }\n  //     // return Promise.reject(error.response.data)   // 返回接口返回的错误信息\n  // }\n);\n\nexport default http;\n"]}]}